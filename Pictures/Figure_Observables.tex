%+------------------------------------------------------------------------+
%| Diagram: Definition of Lie n-algebra of observables in a diagram
%| Author: Antonio miti
%+------------------------------------------------------------------------+


\documentclass[border=10pt, tikz]{standalone}
\usepackage{tikz-cd}
\usetikzlibrary{shapes.geometric,fit} %Ellissi attorno ai nodi
\usepackage{mathtools}
\usepackage{amsfonts}
\tikzset{%
    symbol/.style={%
        ,draw=none
        ,every to/.append style={%
            edge node={node [sloped, allow upside down, auto=false]{$#1$}}}
    }
}
\tikzset{
   dashrect/.style={,rectangle,draw,dashed,inner sep=0pt,black!60!green,fit={#1}}
}

\begin{document}
\begin{tikzcd}[column sep= small,row sep=small]
	0 \ar[r]& L_{n-1}\ar[symbol=\coloneqq,d] \ar[r]&
	\ldots\ar[r]&L_{k-2}\ar[symbol=\coloneqq,d]\ar[r]&\ldots\ar[r]&
	L_1\ar[symbol=\coloneqq,d]\ar[r]&L_0\ar[symbol=\coloneqq,d]\ar[r]&0\\
	%
	& \Omega^0\ar["d",r]&\ldots\ar["d",r]&\phantom{\Omega^{n+1-k}}\ar["d",r]&\ldots\ar["d",r]&\Omega^{n-2}\ar["d",r]&\phantom{\Omega^{n-1}_{\textrm{Ham}}} 
	\arrow[lll,black!60!green,to path={ node[rectangle,dashed,draw]{$\Omega^{n-1}_{\textrm{Ham}}$} -- +(0,-4ex) -| node[pos=0.25,commutative diagrams/every label]{$[\cdot,\ldots,\cdot]_k$}(\tikztotarget)node[rectangle,dashed,draw]{$\Omega^{n+1-k}$}}]
	&\\
\end{tikzcd}
\end{document}
